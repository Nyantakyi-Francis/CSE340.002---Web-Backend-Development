<% if (title) { %>
    <h1>
        <%= title %>
    </h1>
    <% } else { res.redirect('/') } %>

        <%- messages() %>

            <form id="loginForm" action="/account/login" method="post">
                <div class="form-group">
                    <label for="account_email">Email Address:</label>
                    <input type="email" id="account_email" name="account_email" required
                        placeholder="Enter a valid email address">
                </div>

                <div class="form-group">
                    <label for="account_password">Password:</label>
                    <span class="password-requirements">
                        Passwords must be at least 12 characters and contain at least 1 number,
                        1 capital letter and 1 special character.
                    </span>
                    <input type="password" id="account_password" name="account_password" required
                        pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$">
                    <span class="password-toggle" id="passwordToggle">Show Password</span>
                </div>

                <button type="submit" class="btn-primary">Login</button>
            </form>

            <p class="register-link">
                Don't have an account? <a href="/account/register">Sign up here</a>
            </p>

            <script>
                // Show/Hide Password Toggle
                const passwordInput = document.getElementById('account_password');
                const passwordToggle = document.getElementById('passwordToggle');

                passwordToggle.addEventListener('click', function () {
                    if (passwordInput.type === 'password') {
                        passwordInput.type = 'text';
                        passwordToggle.textContent = 'Hide Password';
                    } else {
                        passwordInput.type = 'password';
                        passwordToggle.textContent = 'Show Password';
                    }
                });
            </script>